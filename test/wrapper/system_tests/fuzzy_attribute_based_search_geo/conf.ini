#
# Configuration file for SRCH2 search server. Please email
# contact@srch2.com if you have questions.
#
# In this documment, "attribute" and "field" are used interchangeably.
#

# Index type.
#  0: Text Index
#  1: Geo+Text Index
# REQUIRED
index-type=1
#index-type=1 # Use this line instead of the previous line for geo search

# REQUIRED if index-type=1
# Need to be float type in the json objects in the data file
attribute-latitude=lat
attribute-longitude=lng

#attribute-latitude=lat # Use these 2 lines instead of the previous 2 for geo search
#attribute-longitude=lng

####################### Parameters on local filesystem ###############

# License key file. Email contact@srch2.com to get a key file.  
# Make sure to set the variable to the SRCH2 license key file
# REQUIRED.
license-file=../conf/srch2_license_key.txt

# Path for a data file to be loaded. The file must be in the json format.
# REQUIRED, when "index-load-or-create" is set to 0.
data-file-path=./fuzzy_attribute_based_search_geo/data.json
 
# The file path to the folder where we store serialized index files.
# REQUIRED, when "index-load-or-create" is set to 1.
index-dir-path=./data/fuzzy_attribute_based_search_geo/

# Path to the log file.  Notice that the time in the log file is UTC time.
# REQUIRED.
access-log-file=./data/fuzzy_attribute_based_search_geo/log.txt

# Primary key attribute of the data
# REQUIRED
primary-key=id

# Flag to indicate whether the primary key is searchable.
# 0 - NO
# 1 - YES
# OPTIONAL. Default value is 0
is-primary-key-searchable=0	

# Attributes we want to search on in addition to the primary key. Specify them
# as comma separated entries, e.g., title,name,address,affiliation.
# REQUIRED
attributes-search=category,name

# default values for searchable attributes which are defined in attributes-search
# OPTIONAL : default is "" for each value
attributes-search-default=IGNORE

# Is each searchable attribute required
# OPTIONAL : default : false
attributes-search-required=IGNORE

# Attributes that can be used for post processing filters and facets
# OPTIONAL
non-searchable-attributes=IGNORE

# Types of the non-searchable attribute. A type can be int, float, text or time.
# If non-searchable-attributes is set this option is REQUIRED.
non-searchable-attributes-types=IGNORE

# Default values for non-searchable-attributes
# If non-searchable-attributes is set this option is REQUIRED.
non-searchable-attributes-default=IGNORE

# Is each non-searchable-attribute required
# OPTOINAL : default is false
non-searchable-attributes-required=IGNORE

######################### Faceted search ############################
# is faceted search enabled
# OPTIONAL : default is false
facet-enable=0

# Attributes which are used to create facets. This attributes must also be declared in non-searchable-attributes
# if facet-enable is true REQUIRED
facet-attributes=IGNORE

# Facet type for each attribute. 0 for Categorical and 1 for Range facet.
# if facet-enable is true REQUIRED
facet-attribute-type=IGNORE

# Start of range facets. Insert empty string for Categorical facets.
# # if facet-enable is true REQUIRED
facet-attribute-start=IGNORE

# End of range facets. Insert empty string for Categorical facets.
# # if facet-enable is true REQUIRED
facet-attribute-end=IGNORE

# Gap of range facets. Insert empty string for Categorical facets.
# # if facet-enable is true REQUIRED
facet-attribute-gap=IGNORE


# Flag to indicate whether the attribute-based search is supported.
# 0 - NO
# 1 - YES
# Note that to support attribute-based search, the number of searchable attributes cannot be bigger than 31.
support-attribute-based-search=1

# Attribute used as the boost value of a record
# Need to be float type in the json objects in the data file
attribute-record-boost=IGNORE

#
# The following comments and parameters are related to ranking.  
# Please see http://www.srch2.com/download.html for ranking-related information

#record-score-expression=doc_boost+(1/(doc_length+1))
record-score-expression=idf_score*doc_boost

# Penalty for a prefix match.  This value is used to multiply the
# score of record for a term.
# default value = 0.95
prefix-match-penalty=0.95

# Boost values for searchable attributes.  A boost value is in the
# range [1,100].  If the value is outside the range, it will be set to
# 100.  Specify the boost values as comma separated entries. For
# example, the boosts for four searchable attributes can be specified
# as 10,35,55,15.
#
# OPTIONAL.  
attribute-boosts=2,1

# Default query term boost
# OPTIONAL. Defaults to 1
#default-query-term-boost=1

# Default query term similarity boost
# OPTIONAL. Defaults to 0.5
#default-query-term-similarity-boost=0.9

# Default query term similarity boost
# OPTIONAL. Defaults to 0.5
#default-query-term-length-boost=0.5

# Format of each json search response.
#  0: format "rid,edit_dist,matching_prefix,in_memory_record";
#  1: format "rid,edit_dist,matching_prefix".
#  2: format "rid,edit_dist,matching_prefix,attributes_to_return".
# OPTIONAL. Its default value is 0.
search-response-format=0

# REQUIRED if search-response-format=2
# These are attributes returned to the user.
# Set it to IGNORE if no attributes is wanted.
attributes-to-return=lat,lng

# Default type of matching query terms
#  0: exact match
#  1: fuzzy match
# OPTIONAL. Its default value is 0.
default-query-term-match-type=1

# Default type for query terms.
#  0: a term is treated as a prefix;
#  1: a term is treated as a complete term;
# OPTIONAL. Its default value is 0.
default-query-term-type=0

# Number of results to retrieve
# OPTIONAL. Its default value is 10.
default-results-to-retrieve=10


######################### For real-time updates ########################
# The number of seconds after which newly inserted/deleted records
# are merged into the indexes.  Its minimum value is 10 (seconds).
merge-every-n-seconds=15

# The number of write operations after which newly inserted and deleted records
# are "merged" into the indexes.
merge-every-m-writes=100

########################## HTTP server options ################################
# Hostname and port number of the server. Make sure the port is open. 
# REQUIRED
listening-hostname=127.0.0.1
listening-port=8081

# Number of bytes in the cache. It should be in the range [50MB, 500MB].
# OPTIONAL. Its default value is 50MB.
cache-size=104857600

# Number of threads that serve the requests.
# OPTIONAL. Its default value is 1.
number-of-threads=2

# Maximum number of records that can be inserted into the engine.
# The number depends on the size of each record and the available memory
doc-limit=15000000

##################### Do NOT change the following parameters ###########################

# 1 - File BootStrap True - Import data from json file at file path "file-path".
# 0 - File bootstrap False
# OPTIONAL. Its default value is 1
data-source-type=1

# OPTIONAL. Defaults to 0
write-api-type=0
