<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="generator" content="ReText 4.0.0">
<title>configuration</title>
</head>
<body>
<table><tr>

<td> 
<div id="content">
<table><tbody><tr><td>
<div><h3><a style="text-decoration: none;color:#880000" href="#doc">Content</a></h3></div>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#overview">Overview</a><br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#configTag">config</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#srch2Home">SRCH2HOME</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#licenseFile">License File</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#listeningHostname">Hostname & Port</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#dataDir">Data Directory</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#dataFile">Data File</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#indexConfig">Index Config</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#indexType">Index Type</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#fieldBoost">Field Boosts</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#recordBoostField">Record Boost Field</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#defaultQueryTermBoost">Query Term Boost</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryConfig">Query Config</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#rankingalgorithm">Ranking</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryTermSimilarityBoost">Term Similarity Boost</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryTermSimilarityThreshold">Term Similarity Threshold</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryTermLengthBoost">Term Length Boost</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#prefixMatchPenalty">Prefix Match Penalty</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#cacheSize">Cache Size</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#rows">Default for Rows</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#maxSearchThreads">Max Searcher Threads</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#fieldBasedSearch">Enable Field Based Search</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#searcherType">Search Type</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryTermMatchType">Term Match Type</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryTermType">Query Term Type</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryResponseWriter">Response Writer</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#reponseFormat">Response Format</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#reponseContent">Response Content</a></br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#schemaTag">schema</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#fields">Field Declaration</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#uniqueKey">Primary Key</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#facetEnabled">Enable Facets</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#facetFields">Facet Field Declaration</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#analyzer">Analyzer</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#PorterStemFilter">Stemmer</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#StopFilter">Stop Words</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#SynonymFilter">Synonyms</a></br><br>
</td></tr></tbody></table>

</div>
</td>
<td style="width:75%">
</br>
<div><table><tbody><tr><td>
<div><h3><a style="text-decoration: none;color:#880000" href="#doc"></a></h3></div>

</td></tr></tbody></table>

</div>

<h1 id="doc" style="color:#880000"><center>SRCH2 Configuration File Documentation</center></h1>
<h6 id="versionInfo" style="font-size: 12px; margin-top: -20px;"><center>Version: 4.0, Date: September 18, 2013</center></h6>
<h3 id="overview">Overview:</h3>
<blockquote>
<p>The SRCH2 engine can be customized using a configuration file in XML. This documentation describes the details of how to do this configuration. </p>
<p>The configuration file contains two top-level tags: <i>config</i> and <i>schema</i>. The children of the "config" (e.g., "srch2home") tune the engine, while the children of the 'schema' tag (e.g., "fields") describe the data.  Each parameter can have one of the following two labels: "Required" means this tag has to be present in the configuration file, and  "Optional" means this tag does not need to be present.</p>
</blockquote>
<h3 id="configTag">"Config" Component:</h3>
<blockquote>
<p>The following is a breakdown of the subtags of the <i>config</i> component.</p>
</blockquote>
<h4 id="srch2Home">SRCH2 Home Directory, Required</h4>
<pre><code>    &lt;srch2Home&gt;/path/to/srch2/home/directory&lt;/srch2Home&gt;
</code></pre>

<blockquote>
<p>This parameter specifies the installation folder of the SRCH2 engine, which includes the binary, license file, and other files needed by the engine. Other file paths used in the configuration should be relative to this home path.  For example, if we give the engine a data file at "/usr/joe/srch2/data/sample-data.json", and the SRCH2 home directory is set to "/usr/joe/srch2", then the configuration file should reference the data file's location as "data/sample-data.json".</p>
</blockquote>
<h4 id="licenseFile">License Key File, Required</h4>
<pre><code>&lt;licenseFile&gt;/path/to/srch2_license_key.txt&lt;/licenseFile&gt;
</code></pre>
<blockquote>
<p>It specifies a license key file required by the engine. Email contact@srch2.com to get a key file.  You can also fill in a form at http://srch2.com/try.php to get a free trial key. <br></p>
</blockquote>
<h4 id="listeningHostname">Hostname and Port, Required</h4>
<pre><code>    &lt;listeningHostname&gt;127.0.0.1&lt;/listeningHostname&gt;
    &lt;listeningPort&gt;8081&lt;/listeningPort&gt;
</code></pre>

<blockquote>
<p>They specify the hostname and port number of the server. Make sure the port is open to outside requests.<br></p>
</blockquote>
<h4 id="dataDir">Data Directory, Required</h4>
<pre><code>    &lt;dataDir&gt;/path/to/data.json&lt;/dataDir&gt;
</code></pre>

<blockquote>
<p>The path of a folder where the engine stores serialized index files. <br></p>
</blockquote>
<h4 id="dataFile">Data File, Required if DATA_SOURCE = 2 (TODO):</h4>
<pre><code>    &lt;dataFile&gt;/path/to/data.json&lt;/dataFile&gt;
</code></pre>

<blockquote>
<p>It specifies a JSON data file to be loaded by the engine.<br></p>
</blockquote>
<h4 id="indexConfig">Index Config:</h4>
<blockquote>
<p>The tag includes parameters related to customizing the record indexes.</p>
</blockquote>
<pre><code>    &lt;indexConfig&gt;
    ...
    &lt;/indexConfig&gt;
</code></pre>

<blockquote>
<h4 id="indexType">Index Type, Required</h4>
</blockquote>
<pre><code>    &lt;indexType&gt;0&lt;/indexType&gt;
</code></pre>

<blockquote>
<blockquote>
<p>0: Text Indexes; <br>
1: Text + Geo Indexes, which support location-based search. <br></p>
</blockquote>
<h4 id="fieldBoost">Field Boosts, Optional</h4>
</blockquote>
<pre><code>    &lt;fieldBoost&gt;&lt;/fieldBoost&gt;
</code></pre>

<blockquote>
<blockquote>
<p>It specifies boost values for the searchable attributes. A boost value is in the range [1,100]. If the value is outside the range, it will be set to 100. (TODO: WHAT'S THE DEFAULT VALUE?) We specify the boost values as comma-separated entries.  For example, the boost values for three searchable attributes can be specified as: <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;fieldBoost&gt;relevance^10 name^7 title&lt;/fieldBoost&gt;
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>Notice that the fields are sparated by a single white space. If a value is not provide for a field, the engine uses a default value of 1. (TODO: WHAT'S THE DEFAULT VALUE?)<br></p>
</blockquote>
</blockquote>
<h4 id="recordBoostField">Record Boost Field, Optional</h4>
</blockquote>
<pre><code>    &lt;recordBoostField&gt;relevance&lt;/recordBoostField&gt;
</code></pre>

<blockquote>
<blockquote>
<p>It specifies an attribute whose value is used as the boost value of a record's score. The attribute needs to be of float type.</p>
</blockquote>
<h4 id="defaultQueryTermBoost">Default Query Term Boost, Optional</h4>
</blockquote>
<pre><code>    &lt;defaultQueryTermBoost&gt;1&lt;/defaultQueryTermBoost&gt;
</code></pre>

<blockquote>
<blockquote>
<p>It specifies a default <a href="configuration.html##Boosting%20a%20term">query term boost</a>. If the parameter is not given, the engine uses 1 as the default value.<br></p>
</blockquote>
</blockquote>
<h4 id="queryConfig">Query parameters:</h4>
<blockquote>
<p>The following tag includes paramters related to queries.</p>
</blockquote>
<pre><code>    &lt;query&gt;
    ...
    &lt;/query&gt;
</code></pre>

<blockquote>
<h4 id="rankingalgorithm">Ranking:</h4>
<blockquote>
<p>The following tags and parameters are related to ranking. See http://www.srch2.com/download.html for ranking-related information</p>
</blockquote>
</blockquote>
<pre><code>    &lt;rankingalgorithm&gt;
        &lt;recordScoreExpression&gt;idf_score*doc_boost&lt;/recordScoreExpression&gt;
    &lt;/rankingalgorithm&gt;
</code></pre>

<blockquote>
<h4 id="queryTermSimilarityBoost">Term Similarity Boost, Optional</h4>
</blockquote>
<pre><code>    &lt;queryTermSimilarityBoost&gt;0.9&lt;/queryTermSimilarityBoost&gt;
</code></pre>

<blockquote>
<blockquote>
<p>It specifies a similarity boost used in computing the score of a record in fuzzy search. See the <a href="querysyntax.html#Fuzzy%20Searches">fuzzy matched keywords.</a> about how this parameter is used. Its default value is 0.5.</p>
</blockquote>
<h4 id="queryTermSimilarityThreshold">Term Similarity Threshold :</h4>
<blockquote>
<p>Term Similarity Threshold 
<strong>Optional</strong>  </p>
</blockquote>
</blockquote>
<pre><code>   &lt;queryTermSimilarityThreshold&gt;0.5&lt;/queryTermSimilarityThreshold&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Modifies the default behaviour of <a href="querysyntax.html#Fuzzy%20Searches">fuzzy match keyword search</a>.  </p>
<blockquote>
<p>-Values must lie in [0,1] with 1 representing exact match, and 0 being the largest possible search neighbourhood.<br>
-Defaults to 0.5  </p>
</blockquote>
</blockquote>
<h4 id="queryTermLengthBoost">Query Term Length Boost:</h4>
<blockquote>
<p>Query Term Length Boost <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;queryTermLengthBoost&gt;&lt;/queryTermLengthBoost&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Defaults to 0.5 <br></p>
</blockquote>
<h4 id="prefixMatchPenalty">Prefix Match Penalty:</h4>
<blockquote>
<p>Prefix Match Penalty <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;prefixMatchPenalty&gt;0.95&lt;/prefixMatchPenalty&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Penalty for a prefix match.  This value reduces, by a multiple, the score of a record with a prefix matched term. <br>
The value should be in the range of 0 to 1 <br>
Defaults to 0.95 <br></p>
</blockquote>
<h4 id="cacheSize">Cache Size:</h4>
<blockquote>
<p>Cache Size <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;cacheSize&gt;65536000&lt;/cacheSize&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Size of cache in bytes. It should be in the range [50MB, 500MB]. <br>
Its default value is 50MB. <br></p>
</blockquote>
<h4 id="rows">Default Value for Rows:</h4>
<blockquote>
<p>Rows <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;rows&gt;10&lt;/rows&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Number of results retrieved <br>
Defaults to 10. <br></p>
</blockquote>
<h4 id="maxSearchThreads">Maximum number of threads:</h4>
<blockquote>
<p>Maximum Number of Searcher Threads <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;maxSearchThreads&gt;2&lt;/maxSearchThreads&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Number of threads that serve all incoming search requests. <br>
Defaults to 1 <br></p>
</blockquote>
<h4 id="fieldBasedSearch">Field Based Search Enabled:</h4>
<blockquote>
<blockquote>
<p>Flag to enable/disable field based search <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>    &lt;fieldBasedSearch&gt;0&lt;/fieldBasedSearch&gt;
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>Flag to toggle attribute-based search <br></p>
<blockquote>
<p>0 - Disable <br>
1 - Enable <br>
Note: if field-based search is enabled, the number of searchable attributes, specified in the <a href='#fields'>fields</a>, is limited to 31.</p>
</blockquote>
</blockquote>
</blockquote>
<h4 id="searcherType">Search Type:</h4>
<blockquote>
<p>Searcher Type <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;searcherType&gt;0&lt;/searcherType&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Modifies the default search algorithm of the Srch2 engine <br></p>
<blockquote>
<p>0 if topk, <br>
1 if advanced <br></p>
<p>Defaults to 0 <br></p>
</blockquote>
</blockquote>
<h4 id="queryTermMatchType">Query Term Match Type:</h4>
<blockquote>
<p>Query Term Match Type <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;queryTermMatchType&gt;1&lt;/queryTermMatchType&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Modifies the default search behaviour of the Srch2 engine              </p>
<blockquote>
<p>0: exact match search<br>
1: fuzzy match search<br>
Defaults to 0</p>
</blockquote>
</blockquote>
<h4 id="queryTermType">Query Term Type:</h4>
<blockquote>
<p>Query Term Type <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;queryTermType&gt;0&lt;/queryTermType&gt;
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>Modifies the default treatment of search query's trailing keyword
0: trailing term is treated as a prefix; <br>
1: trailing term is treated as a complete term; <br>
Defaults to 0</p>
</blockquote>
</blockquote>
</blockquote>
<h4 id="queryResponseWriter">Query Term Type:</h4>
<blockquote>
<p>All tags related to configuring the response.</p>
</blockquote>
</blockquote>
<pre><code>    &lt;queryResponseWriter&gt;
    ...
    &lt;/queryResponseWriter&gt;
</code></pre>

<blockquote>
<blockquote>
<h4 id="responseFormat">Response Format:</h4>
<blockquote>
<p>Response Format <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>    &lt;responseFormat&gt;0&lt;/responseFormat&gt;
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>Format of query results</p>
<blockquote>
<p>0: JSON <br>
1: JSONP <br>        <br>
Defaults to 0 <br></p>
</blockquote>
</blockquote>
<h4 id="responseContent">Response Content:</h4>
<blockquote>
<p>Response Content <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>    &lt;responseContent type=&quot;2&quot;&gt;lat,lng&lt;/responseContent&gt;
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>or</p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>    &lt;responseContent type=&quot;0&quot;&gt;&lt;/responseContent&gt;
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>Format of each json search response. <br>
You should set the type by one of the following options: <br></p>
<blockquote>
<p>0: format "rid,edit_dist,matching_prefix,in_memory_record"; <br>
1: format "rid,edit_dist,matching_prefix". <br>
2: format "rid,edit_dist,matching_prefix,fields_to_return". <br>
Defaults to 0 <br>
It is REQUIRED to set fields_to_return if search-response-format=2 <br>
These are attributes returned to the user. <br></p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h4 id="updatehandler">Update Handler:</h4>
<blockquote>
<p>All tags related to configuring srch2 handling of update requests.</p>
</blockquote>
<pre><code>    &lt;updatehandler&gt;
    ...
    &lt;/updatehandler&gt;
</code></pre>

<blockquote>
<h4 id="maxDocs">Max Docs:</h4>
<blockquote>
<p>Maximum Number of Documents <br>
<strong>Required</strong> <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;maxDocs&gt;15000000&lt;/maxDocs&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Maximum number of records indexable by the srch2 engine. <br>
This number should reflect the size of each record and the available memory <br></p>
<blockquote>
<p>Remember this is a hard cap on the number of records indexable by the srch2 engine.
Inserting more records than the specified here will cause the srch2 indexer to throw an error.
It exists to bound the memory footprint of the srch2 indexer which grows in proporsion to the number of records.</p>
</blockquote>
</blockquote>
<h4 id="mergePolicy">Merge Policy:</h4>
<blockquote>
<p>Merge Policies <br>
<strong>Required</strong> <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;mergePolicy&gt;
        &lt;mergeEveryNSeconds&gt;10&lt;/mergeEveryNSeconds&gt;
        &lt;mergeEveryMWrites&gt;100&lt;/mergeEveryMWrites&gt;
    &lt;/mergePolicy&gt;
</code></pre>

<blockquote>
<blockquote>
<p>mergeEveryNSeconds: <br></p>
<blockquote>
<p>The maximum number of seconds before newly inserted/deleted records become fully visible to users. <br>
Its minimum value is 10 (seconds). <br>
Note: Decreasing this number will increase latency in the srch2 engine's response time.
mergeEveryMWrites: <br>
The number of write operations after which newly inserted/deleted records are merged into the indexes. <br></p>
</blockquote>
</blockquote>
<h4 id="updateLog">Update Log:</h4>
<blockquote>
<p>Tags customizing Srch2's log file and logging functions.</p>
</blockquote>
</blockquote>
<pre><code>    &lt;updateLog&gt;
    ...
    &lt;/updateLog&gt;
</code></pre>

<blockquote>
<blockquote>
<h4 id="logLevel">Log Level:</h4>
<blockquote>
<p>Log Level <br>
<strong>Optional</strong> <br></p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>    &lt;logLevel&gt;3&lt;/logLevel&gt;
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>Amount of feedback information of the Srch2 engines state recorded in its logs. <br></p>
<blockquote>
<p>0 SILENT <br>
1 ERROR <br>
2 WARN <br>
3 INFO <br>
Defaults to 3 INFO</p>
</blockquote>
</blockquote>
<h4 id="accessLogFile">Log File:</h4>
<blockquote>
<p>Access Log File <br>
<strong>Required</strong> <br></p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>    &lt;accessLogFile&gt;./data/faceted_search/log.txt&lt;/accessLogFile&gt;
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>Path to file where the srch2 engine will write logging information.<br></p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="schemaTag">Schema:</h3>
<blockquote>
<p>The following sections explain each subtag under <i>schema</i>.</p>
</blockquote>
<pre><code>    &lt;schema name=&quot;SRCH2&quot; version=&quot;3&quot;&gt;
    ...
    &lt;/schema&gt;
</code></pre>

<h4 id="fields">Fields:</h4>
<blockquote>
<p>Fields <br>
<strong>Required</strong> <br></p>
</blockquote>
<pre><code>    &lt;fields&gt;
    ...
    &lt;/fields&gt;
</code></pre>

<blockquote>
<p>This tag is a container of all 'field' tags.  </p>
<p>Field<br>
<strong>Require</strong> at least one searchable   </p>
</blockquote>
<pre><code>    &lt;field name=&quot;category&quot; type=&quot;text&quot; indexed=&quot;true&quot; /&gt;
    &lt;field name=&quot;name&quot; type=&quot;text&quot; indexed=&quot;true&quot; /&gt;
    &lt;field name=&quot;model&quot; default=&quot;benz&quot; required=&quot;true&quot; type=&quot;text&quot; indexed=&quot;false&quot;/&gt;
    &lt;field name=&quot;price&quot; default=&quot;200&quot; required=&quot;true&quot; type=&quot;float&quot; indexed=&quot;false&quot;/&gt;
    &lt;field name=&quot;likes&quot; default=&quot;0&quot; required=&quot;true&quot; type=&quot;integer&quot; indexed=&quot;false&quot;/&gt;
</code></pre>

<blockquote>
<p>Definition of each fields the srch2 engine keeps information on. <br></p>
<p>Attributes:</p>
<blockquote>
<p><strong>required</strong> attributes: name, type, indexed     <br>
"name" : is the name of the field<br>
"type" : is the type of the field. Supported types are:<br>
- Text<br>
- location_longtitude (For Geo search)<br>
- location_latitude (For Geo search)<br>
- integer<br>
- float<br>
- time<br></p>
<blockquote>
<p>NOTE: The time formats which are accepted by SRCH2 engine are: <br>
      The formats for date and time points are:<br>
      HH:MM:SS<br>
      mm/DD/YY<br>
      YY-mm-DD HH:MM::SS<br>
      YYmmDDHHMMSS<br>
      YYmmDDHHMM<br>
      YYmmDD<br>
      And the format for duration of time is:<br>
      {An integer}{A date/time constant}, in which date and time constants are: <br>
      SECOND,SECONDS,MINUTE,MINUTES,HOUR,HOURS,DAY,DAYS,WEEK,WEEKS,MONTH,MONTHS,YEAR,YEARS<br>
      Examples are: DAY (meaning 1 day duration) or 34WEEKS (meaning 34 weeks).<br></p>
</blockquote>
</blockquote>
<p>"indexed" : For field to be searchable indexed should be true. A field can only be sorted, filtered and faceted if its 'indexed' property is false. To both perform a keyword search AND also sort,filter or facet on a single field, two instances of the field are need to be defined: one with indexed="true" (for keyword search) and one with indexed="false" (for sort and facet). <br>
"required": The flag indicating whether this field can be empty or not. It is false by default.<br>
"default" : The value attributed to empty instances of this field.<br></p>
<blockquote>
<p>A record { id=1x232, fruit: apple, status: } with status default="rotten" will be indexed as {id=1x232, fruit: apple, status: rotten}</p>
</blockquote>
<p>Note:<br></p>
<blockquote>
<ul>
<li>For Geo search two fields are required with the types location_latitude and location_longtitude, respectively.
Make sure to set both latitude and longitude.<br></li>
<li>The values of these geo fields should be float in the JSON (input) file.<br></li>
<li>Primary key is optional to be included here. It can be included here to set its indexed property to true.<br></li>
<li>Type is always text for primary key, it is required and there is no need for default value. If primary key is included here and indexed="false" it will be also used for sort,filtering and facet.<br></li>
</ul>
</blockquote>
</blockquote>
<h4 id="uniqueKey">Primary Key:</h4>
<blockquote>
<p>Primary Key<br>
<strong>Required</strong> <br></p>
</blockquote>
<pre><code>    &lt;uniqueKey&gt;id&lt;/uniqueKey&gt;
</code></pre>

<blockquote>
<p>The attribute used as a primary key to reference each record in the data.
If a inserted record primary key conflicts with an existing record it is rejected.  <br>
- The id contained in the uniqueKey tag corresponds to the name attribute of the field specified in the <a href=#fields>fields tag</a>.
- If the "indexed" value of your primary key field, in the <a href=#fields>fields tag</a>, is true, it will be a searchable field too. </p>
</blockquote>
<h4 id="facetEnabled">Enable Facet:</h4>
<blockquote>
<p>Facet enabled flag <br>
<strong>Optional</strong> <br>
Toggles faceted search feature.<br></p>
</blockquote>
<pre><code>    &lt;facetEnabled&gt;true&lt;/facetEnabled&gt;start
</code></pre>

<blockquote>
<ul>
<li>values are false (disabled) and true (enabled)<br></li>
<li>By default it is disabled.<br></li>
</ul>
</blockquote>
<h4 id="facetFields">Facet Fields:</h4>
<blockquote>
<p>This tag contains all 'facetField' tags.</p>
</blockquote>
<pre><code>    &lt;facetFields&gt;
    ...
    &lt;/facetFields&gt;
</code></pre>

<blockquote>
<p>Facet fields <br>
<strong>Required</strong> if facet is enabled. <br></p>
</blockquote>
<pre><code>    &lt;facetField name=&quot;likes&quot; facetType=&quot;range&quot; facetStart=&quot;0&quot; facetEnd=&quot;50&quot; facetGap=&quot;10&quot; /&gt;
    &lt;facetField name=&quot;model&quot; facetType=&quot;categorical&quot; /&gt;
    &lt;facetField name=&quot;price&quot; facetType=&quot;range&quot; facetStart=&quot;0&quot; facetEnd=&quot;100&quot; facetGap=&quot;10&quot; /&gt;
</code></pre>

<blockquote>
<blockquote>
<p>name: The name of the field which is used for this facet, must correspond with a non-indexed field,
specified in the <a href=#fields>field tag</a>. <br>
facetType: Facet type either Categorical or Range. Enter "categorical" or "range" <br>
facetStart: The start point of making range facets. REQUIRED for range facets. The value will be ignored for categorical facets. <br>
facetEnd: The end point of making range facets. REQUIRED for range facets. The value will be ignored for categorical facets. <br>
facetGap: The increment amount used for making demarking range facets. REQUIRED for range facets.
The value will be ignored for categorical facets. <br></p>
<blockquote>
<p>Note:  fact ranges are created in correspondance with the facetStart value, not the facetEnd; thus, the final range may not stretch
the entire facetGap.      <br>
Note: <br>
- All facetFields must be declared in <a href=#fields>fields tag</a> as well (with indexed="false") <br></p>
</blockquote>
</blockquote>
</blockquote>
<h4 id="analyzer">Analyzer:</h4>
<blockquote>
<p>Specification of srch2's Analyzer fall under types :: fieldType :: analyzer. <br></p>
</blockquote>
<pre><code>    &lt;types&gt;
        &lt;fieldType name=&quot;text_en&quot;&gt;
            &lt;analyzer&gt;
            ...
            &lt;/analyzer&gt;
        &lt;/fieldType&gt;                
    &lt;/types&gt;
</code></pre>

<blockquote>
<h4 id="PorterStemFilter">Stemmer:</h4>
<blockquote>
<p>Stemmer <br>
<strong>Optional</strong> <br></p>
<blockquote>
<p>Disable Stemmer:  <br></p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>    &lt;filter name=&quot;PorterStemFilter&quot; dictionary=&quot;&quot; /&gt;
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>Exmaple: <br></p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>    &lt;filter name=&quot;PorterStemFilter&quot; dictionary=&quot;&quot; /&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Enable/Disabling the stemmer by providing "dictionary" file. <br></p>
</blockquote>
<h4 id="StopFilter">Stop Words:</h4>
<blockquote>
<p>Stop Word Filter <br>
<strong>Optional</strong> <br></p>
<blockquote>
<p>Disable Stop Word Filter:  <br></p>
</blockquote>
</blockquote>
</blockquote>
<pre><code>    &lt;filter name=&quot;StopFilter&quot; words=&quot;&quot; /&gt;
</code></pre>

<blockquote>
<blockquote>
<p>Example: <br></p>
</blockquote>
</blockquote>
<pre><code>    &lt;filter name=&quot;StopFilter&quot; words=&quot;&quot; /&gt;
</code></pre>

<blockquote>
<blockquote>
<blockquote>
<p>Enable/Disabling the Stop Word Filter By providing "words" file. <br></p>
</blockquote>
</blockquote>
</blockquote>
<p>Have fun SRCHing!</p>
<style type="text/css">
pre{
    margin: auto;
    width:80%;
    display: block;
    padding: 9.5px;
    font-size: 13px;
    line-height: 20px;
    word-break: break-all;
    word-wrap: break-word;
    white-space: pre;
    white-space: pre-wrap;
    background-color: #f5f5f5;
    border: 1px solid #ccc;
    border: 1px solid rgba(0, 0, 0, 0.15);
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    overflow:auto;
    max-height:600px;
}
#content{
    position:fixed;
    left:10px;
    top:20px;
    padding: 5.5px;
    font-size: 13px;
    //line-height: 20px;
    word-break: break-all;
    word-wrap: break-word;
    white-space: pre;
    white-space: pre-wrap;
    background-color: #f5f5f5;
    border: 1px solid #ccc;
    border: 1px solid rgba(0, 0, 0, 0.15);
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    text-align:center;
}
html{
    min-width:1100px;
}
#indexTable{
    padding: 5.5px;
    font-size: 13px;
    //line-height: 20px;
    word-break: break-all;
    word-wrap: break-word;
    white-space: pre;
    white-space: pre-wrap;
    background-color: #f5f5f5;
    border: 1px solid #ccc;
    border: 1px solid rgba(0, 0, 0, 0.15);
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    text-align:center;
    display: inline-block
}
#bigBox{
    padding: 10px;
    font-size: 13px;
    white-space: pre;
    white-space: pre-wrap;
    background-color: #f5f5f5;
    border: 1px solid #ccc;
    border: 1px solid rgba(0, 0, 0, 0.15);
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    //text-align:center;
    display: inline-block
}

</style>

<script>
function alertSize() {
  var myWidth = 0, myHeight = 0;
  if( typeof( window.innerWidth ) == 'number' ) {
    //Non-IE
    myWidth = window.innerWidth;
    myHeight = window.innerHeight;
  } else if( document.documentElement && ( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
    //IE 6+ in 'standards compliant mode'
    myWidth = document.documentElement.clientWidth;
    myHeight = document.documentElement.clientHeight;
  } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
    //IE 4 compatible
    myWidth = document.body.clientWidth;
    myHeight = document.body.clientHeight;
  }
  //window.alert( 'Width = ' + myWidth );
  //window.alert( 'Height = ' + myHeight );
  document.getElementById('content').setAttribute('style' , 'height:'+(myHeight-10)+'px;overflow:auto;width:20%');
}
alertSize();
</script>
</body>
</html>
