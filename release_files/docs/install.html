<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="generator" content="ReText Webpages generator 4.0.0">
<link rel="stylesheet" type="text/css" href="style.css">
<title>SRCH2: Installation</title>
</head>

<body>

<!-- menubar -->
<table id="menubar">
<tr style="background-color: #f5f5f5">
<td style="width:100%; padding: 0px">
<a href="http://www.srch2.com" target="_blankt"><img style="height:24px" src="images/logo.png" align="left"></a>&nbsp;
</td>
<td style="align:right; white-space: nowrap; padding: 0px; font-size: 12px">
Version: 4.3.0, Date: March 24, 2014&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</td>
</tr>
</table>
<!-- end of menubar -->

<table style="width:100%;table-layout:fixed" >

<tr>
<td id="sideBarTd" style="width:25%">
<div id="sidebar"> <!-- Sidebar -->
<div id="linkpool" > <!-- Links to main pages, id=linkpool-->
<table><tbody><tr><td>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="./main.html">Main page</a><br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="./install.html">Install</a><br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="./configuration.html">Configuration</a><br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="./restful-search.html">RESTful API: Search</a><br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="./restful-insert-update-delete.html">RESTful API: Insert/Update/Delete</a><br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="./restful-control.html">RESTful API: Control</a><br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="./ranking.html">Ranking</a><br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="./geo.html">Geo Search</a><br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="./mongodb.html">MongoDB Search</a><br><br>
</td></tr></tbody></table>

</div> <!-- Links to main pages, id=linkpool-->

<hr id="toc_ruler">

<div id="content" > <!-- Table of content, id=content-->

<table><tbody><tr><td>

<div><h3><a style="text-decoration: none;color:#ee2e24" href="#doc">Content</a></h3></div>

&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#serverConfig">1. Download and Run Server</a><br><br>

&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#simple-ui">2. Simple Front-end UI</a></br><br>

&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#advanced-ui">3. Advanced Front-end UI</a></br><br>


</td></tr></tbody></table>


</div>

<!-- Table of content, id=content-->

<!-- Google Tag Manager -->

<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MQK794"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MQK794');</script>

<!-- End Google Tag Manager -->

<p></div> <!-- Sidebar --></p>
</td>

<td id="docBody" style="width:70%">

</br>

<div><table><tbody><tr><td>

<div><h3><a style="text-decoration: none;color:#ee2e24" href="#doc"></a></h3></div>


</td>

<p></tr></tbody></table></div></p>
<h1 id="doc" style="color:#ee2e24"><center>SRCH2 Manual: Engine Installation</center></h1>
<p>This documentation gives step-by-step instructions on how to use the SRCH2 engine to setup a simple search service on movie information. The provided package includes a sample data file with movie records, with information such as title, year, director, and genre. A live demo is available at <a href="http://demo.srch2.com/movies/">here</a>.</p>
<h2 id="serverConfig">1. Download and Run Server</h2>
<p><b>Step 1</b>: Download the latest SRCH2 engine from <a href="http://www.srch2.com/download">here</a> and unzip it to a folder, e.g., "/home/joe/srch2". The tar ball includes the following files and a folder:</p>
<ul>
<li>bin/srch2-engine (the engine binary);</li>
<li>readme.txt;</li>
<li>example-demo/.</li>
</ul>
<p>The "example-demo" folder contains files for a demo, in which we use the engine to build a search service on sample movie information. The folder includes a JSON file, a sample configuration XML file for the engine, and files for two front-end UIs (one basic and one advanced).</p>
<p><b>Step 2</b>: Obtain a free 30-day trial key by filling in the <a href="http://www.srch2.com/download">form</a>. Store the key file locally as "srch2_license_key.txt" into the install directory.</p>
<p><b>Step 3</b>: Open the file <a href="example-demo/srch2-config.xml">example-demo/srch2-config.xml</a>, and change the variable "srch2Home" to the install folder of the
SRCH2 package, e.g., "/home/joe/srch2".</p>
<p><b>Step 4</b>: Go to the install folder and run the following:</p>
<pre><code class="python">shell&gt; ./bin/srch2-engine --config-file=./example-demo/srch2-config.xml
</code></pre>

<p>The server will read the configuration file, load the data in the corresponding data file, build indexes, and start a RESTful server. You should see a page similar to the following:</p>
<p><center></p>
<p><img alt="Engine is running" src="./images/engine_running.png"></p>
<p></center></p>
<p>Note:</p>
<ul>
<li>All the paths in the configuration file are relative to the "srch2Home" variable, so make sure the license file path is relative to "srch2Home", not an absolute path.  </li>
<li>It is recommended to use an absolute path value for the "srch2Home" variable.</li>
<li>Once the engine starts, it stores the indexes in the folder specified by the  "dataDir" parameter in the configuration file (with a default folder called "indexes"). The next time we start the engine, it will check if the folder has index files. If so, the engine will load the index files instead of reading the records from the data source. If we want to force the engine to read the records, make sure to delete the files in the "indexes" folder.</li>
</ul>
<p><b>Step 5</b>: To test the engine, open a new terminal and type the following command:</p>
<pre><code class="python">shell&gt; curl -i  http://localhost:8081/search?q=terminator
</code></pre>

<p>Now you should see the following results:</p>
<p><center>
<img alt="Engine is running" src="./images/results.png">
</center></p>
<p></br></p>
<h2 id="simple-ui">2. Simple Front-end UI</h2>
<p>Use a browser to open the file <a href="example-demo/basic/index.html">example-demo/basic/index.html</a>. Type into the search box.  After typing a few characters you should see results similar to the following:</p>
<p><img alt="Demo Web page Image" src="./images/Srch2-BasicDemoFront.png" width="750px"></p>
<h2 id="advanced-ui">3. Advanced Front-end UI</h2>
<p>Use the browser to open the file "example-demo/advanced-ui/index.html". Do a search, and you should see a page similar to the following:</p>
<p><img alt="Demo Web-page Image" src="./images/Srch2-FullDemoFront.png" width="750px"></p>
<p>The screen has the following regions:</p>
<ol>
<li>
<p>It is the main search box;</p>
</li>
<li>
<p>It shows the search results;</p>
</li>
<li>
<p>It allows the user to specify the order in which the results are sorted using the year field;</p>
</li>
<li>
<p>It allows the user to specify filters to post-process results;</p>
</li>
<li>
<p>It allows the user to specify a facet on the year field by providing a start year, an end year, and a year gap;</p>
</li>
<li>
<p>It shows the facet results.</p>
</li>
</ol>
<p><b>Note</b>: Each time we make changes to some conditions, make sure to move the focus to the search box and move the cursor to reissue the search query to the server in order to see the new results.</p>

</table>
<hr>

<link rel="stylesheet" type="text/css" href="documentation.css">

<script type="text/javascript" src="setSizes.js"></script>
<script>

setSizes();
window.onresize = setSizes
</script>

<script language="javascript"> 
months = ['January', 'Febraury', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']; 
var theDate = new Date(document.lastModified); 
theDate.setHours(theDate.getHours() - 7)
with (theDate) { 
document.write("<div align=right>Last Updated: " + months[getMonth()] + ' ' + getDate()  +', ' + getFullYear() +', ' + getHours() + ':' + ("0" + getMinutes()).slice(-2) + " PST  </div>") 
} 
</script>

</body>
</html>
