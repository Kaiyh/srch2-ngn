<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MQK794"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MQK794');</script>
<!-- End Google Tag Manager -->
<div id="content" > <!-- Table of content, id=content-->
<table><tbody><tr><td>
<div><h3><a style="text-decoration: none;color:#ee2e24" href="#doc">Content</a></h3></div>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#overview">1. Overview</a><br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#srch2Home">2. SRCH2HOME</a></br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#licenseFile">3. License File</a></br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#listeningHostname">4. Hostname & Port</a></br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#dataDir">5. Data Directory</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#maxSearchThreads">6. Number of Search Threads</a></br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#data">7. Data Source Information</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#dataSource">7.1. Data Source Type</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#dataFile">7.2. Data File</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#mongodb">7.3. MongoDB</a></br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#indexConfig">8. Index Config</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#indexType">8.1. Index Type</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#fieldBoost">8.2. Field Boosts</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#recordBoostField">8.3. Record Boost Field</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#defaultQueryTermBoost">8.4. Default Query Term Boost</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#enablePositionIndex">8.5. Enable Positional Index</a></br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryConfig">9. Query Parameters</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#rankingAlgorithm">9.1. Ranking</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#fuzzyMatchPenalty">9.2. Fuzzy Match Penalty</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryTermSimilarityThreshold">9.3. Term Similarity Threshold</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#supportSwapInEditDistance">9.4. Support Swap in Edit Distance</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#prefixMatchPenalty">9.5. Prefix Match Penalty</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#cacheSize">9.6. Cache Size</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#rows">9.7. Rows to be returned</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#fieldBasedSearch">9.8. Enabling Field Based Search</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#searcherType">9.9. Search Type</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryTermFuzzyType">9.10. Term Fuzzy Type</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryTermPrefixType">9.11. Term Prefix Type</a></br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#queryResponseWriter">10. Response Writer</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#ResponseContent">10.1. Response Content</a></br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#updateHandler">11. Update Handler</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#maxDocs">11.1. Max Documents</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#mergePolicy">11.2. Merge Policy</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#updateLog">11.3. Logging</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#logLevel">11.3.1. Log Level</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#accessLogFile">11.3.2. Log File</a></br><br>
&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#schemaTag">12. Data Schema</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#uniqueKey">12.1. Primary Key</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#fields">12.2. Field Declaration</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#facetEnabled">12.3. Enable Facets</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#facetFields">12.4. Facet Field Declaration</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#analyzer">12.5. Analyzer</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#PorterStemFilter">12.5.1 Stemmer</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#StopFilter">12.5.2 Stop Words</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#Cores">13 Cores</a></br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a style="text-decoration: none;color:#3366FF" href="#Core">13.1 Core</a></br><br>
</td></tr></tbody></table>

</div> <!-- Table of content, id=content-->

</div> <!-- Sidebar -->

</td>

<td id="docBody" style="width:70%">
<br/>
<div><table><tbody><tr><td>
<div><h3><a style="text-decoration: none;color:#ee2e24" href="#doc"></a></h3></div>

</td></tr></tbody></table></div>

#<center>SRCH2 Manual: Engine Configuration</center>#{id="doc" style="color:#ee2e24" }
######<center>Version: 4.2.0, Date: November 27, 2013</center>{id="versionInfo" style="font-size: 12px; margin-top: -20px;"}

##1. Overview##{id="overview"}

The SRCH2 engine can be customized using a configuration file in XML. This documentation describes the details of how to do this configuration.  The package includes a sample [configuration file](example-demo/srch2-config.xml).  Each parameter in the file can have one of the following two labels: "Required" means this tag must be present in the configuration file, and "Optional" means this tag does not need to be present.

Tag names and tag attribute names (but not values) are case insensitive.

##2. SRCH2 Home Directory, Required##{id="srch2Home"}

```
<srch2Home>/path/to/srch2/home/directory</srch2Home>
```
This parameter specifies the installation folder of the SRCH2 engine,
which includes the binary, a folder "example-demo" with a movie
example, a license file, and other files needed by the engine. Other
file paths used in the configuration should be relative to this home
path. For example, if we give the engine a data file at
"/usr/joe/srch2/example-data/sample-data.json", and the SRCH2 home
directory is set to "/usr/joe/srch2", then the configuration file
should reference the data file's location as
"example-data/sample-data.json".

##3. License Key File, Required##{id="licenseFile"}
```
<licenseFile>/path/to/srch2_license_key.txt</licenseFile>
```
This setting specifies a license key file required by the engine. Enter your email [here](http://www.srch2.com/downloads.html) to get a free trial key. <br>


##4. Hostname and Port, Required##{id="listeningHostname"}
```
<listeningHostname>127.0.0.1</listeningHostname>
<listeningPort>8081</listeningPort>
```
This parameter is the network identification (i.e., IP address or host name) of the server on which the SRCH2 engine is listening.
NOTE: If you want the server to accept all incoming packets, use "<b>0.0.0.0</b>" (without the quotes).

##5. Data Directory, Required{id="dataDir"}
```
<dataDir>/path/to/data/directory/</dataDir>
```
This value specifies the path of a folder where the engine stores serialized index files. <br>

##6. Number of Search Threads, Optional:{id="maxSearchThreads"}
```
<maxSearchThreads>2</maxSearchThreads>
```
This setting specifies the number of threads that serve search requests. Its default value is 1. <br>

##7. Data ##{id="data"}

###7.1. Data Source, Optional {id="dataSource"}

```
<dataSourceType>1</dataSourceType>
```
This value specifies the type of data source to be searched.

>  1: json data file. (Default)
>  2: MongoDB.

###7.2. Data File, Required if "dataSourceType" is 1 {id="dataFile"}

```
<dataFile>./example-demo/data.json</dataFile>
```
This value specifies a JSON data file to be loaded by the engine. Notice that it is a path relative to [srch2Home](#srch2Home).<br>

###7.3. MongoDB, Required if "dataSourceType" is 2 {id="mongodb"}
```
<mongodb>
    <host>www.my-company.com</host>
    <port>1234</port>
    <db>database-name</db>
    <collection>collection-name</collection>
    <listenerWaitTime>3</listenerWaitTime>
</mongodb> 
```
This section specifies MongoDB instance information. Note: "listenerWaitTime" specifies how frequently (in seconds) the SRCH2 engine pulls changes from the MongoDB instance (e.g., every 3 seconds). 

##8. Index Config:##{id="indexConfig"}

This tag groups parameters related to customizing the search engine's indices.
```
<indexConfig>
...
</indexConfig>
```

###8.1. Index Type, Required{id="indexType"}
IndexType specifies if the search engine should build text or location indices.
```
<indexType>0</indexType>
```
> 0: Text Indexes; <br>
> 1: Text + Geo Indexes, which support location-based search. <br>


###8.2. Field Boosts, Optional{id="fieldBoost"}
```
<fieldBoost></fieldBoost>
```
This setting is used to increase or decrease the weight of fields when calculating the rankign of search results.  It specifies boost values for the <a href="#indexConfig">searchable attributes</a> and has a range of [1,100]. If the value is outside the range, it will be set to 1. For example, the boost values for two searchable attributes can be specified as: <br>
```
<fieldBoost>title^2 director^1</fieldBoost>
```
This parameter, together with the following parameters, is used in the
[ranking function](ranking.html) of the engine.  They are grouped
under the "indexConfig" tag because they are used to compute static
scores during the constructions of the indexes, which happens only once
when the search engine is started.  There are also
parameters under the "[query](#queryConfig)" tag that are used to
compute query-specific scores. 

Notice that the fields are separated by a single white space. If a
value is not provided for a field, the engine uses a default value of
1. In the example above, the filed "title" will have a boost value of
1.<br>

###8.3. Record Boost Field, Optional{id="recordBoostField"}
```
<recordBoostField>relevance</recordBoostField>
```
This setting specifies an attribute whose value is used as the score (boost value) of a record. The attribute's type should be "float".

###8.4. Default Query Term Boost, Optional{id="defaultQueryTermBoost"}
```
<defaultQueryTermBoost>1</defaultQueryTermBoost>
```
The value of this field specifies default ranking value for terms which do not have the field specified in "recordBoostField". If the parameter is not given, the engine uses 1 as the default value.<br>


###8.5. Enable Positional Index, Optional{id="enablePositionIndex"}

A positional index supports queries with conditions related to keyword positions in a record, such as [proximity search](restful-search.html#proximitySearch). The "enablePositionIndex" tag can be used to enable or disable positional indexing.  For instance, the following
example shows how to enable this indexing:

```
<enablePositionIndex>1</enablePositionIndex>
```  
Note that the positional index takes more memory resources. By default it is disabled.<br>


##9. Query Parameters:##{id="queryConfig"}

The following tag includes parameters related to queries.
```
<query>
...
</query>
```
###9.1. Ranking:{id="rankingAlgorithm"}

The following tags and parameters are related to ranking. 

```
<rankingAlgorithm>
     <recordScoreExpression>idf_score*doc_boost</recordScoreExpression>
</rankingAlgorithm>
```
This expression is used to compute the static score of a record with respect to a term.  It is computed during index construction and stored in the indexes statically.  It can use the following parameters:

- <b>idf_score</b>: internal IDF score;
- <b>doc_boost</b>: the boost value of the record as specified in an attribute;
- <b>doc_length</b>: number of unique keywords in the record.

The expression allows operators such as +, -, /, *, (, ), 0-9, etc.  Check the [Ranking Section](ranking.html) to see how this static score is used in ranking.

###9.2. Fuzzy Match Penalty, Optional{id="fuzzyMatchPenalty"}

```
<fuzzyMatchPenalty>0.9</fuzzyMatchPenalty>
```
"FuzzyMatchPenalty" is used to decide how much penalty we want to give to records that fuzzy
match the search term compared to terms that match exactly. See the [Ranking Section](ranking.html)
section about how this parameter is used. The default value is 0.5.

###9.3. Term Similarity Threshold, Optional{id="queryTermSimilarityThreshold"}
```
<queryTermSimilarityThreshold>0.75</queryTermSimilarityThreshold>
```
This value is used in the computation of the maximum edit distance we allow in fuzzy search
for a search term. Edit distance is the minimum number of single character changes required
transform a search term into a term in a record.  Conceptually, edit distance represents the
difference between the search term and a word in a record.

The value of queryTermSimilarityThreshold must lie in [0,1], with 1 representing exact
match, and 0 being the largest possible error tolerance. The default
value is 0.5.

This threshold is normalized by the length of the query term. The
engine uses the following formula the compute the edit distance
threshold for this term:

> floor((1-queryTermSimilarityThreshold) * length(query term)).

For instance, suppose the query term is
"schwarazenneggar", and queryTermSimilarityThreshold is 0.8.  Then the
threshold of edit distance for this term is: floor((1-0.8)*16) = 3.
Records containing no terms with an edit distance of 3 or less will
be excluded from the result set.

###9.4. Support Swap as an Edit Distance Operation, Optional{id="supportSwapInEditDistance"}
```
<supportSwapInEditDistance>true</supportSwapInEditDistance>
```
This setting allows character swap operations (e.g., "iphone" versus
"ipohne") in the edit distance function, in addition to insertion,
deletion, and substitution operations. When true, switching to existing
characters is counted as a single operation when calculating the edit
distance.  Otherwise, the entire sum of character deletion and insertion
operations necessary to achieve the same result yields a much larger edit
distance calculation.  By default "supportSwapInEditDistance" is true.

###9.5. Prefix Match Penalty, Optional{id="prefixMatchPenalty"}

```
<prefixMatchPenalty>0.95</prefixMatchPenalty>
```
This setting specifies how heavily to penalize a record when the search term matches only the beginning of a term in a record, instead of matching the entire word.  Its value should be in the range of 0 to 1, with a default value of 0.95. See the [ranking section](ranking.html) for more information.<br>


###9.6. Cache Size, Optional{id="cacheSize"}

```
<cacheSize>65536000</cacheSize>
```
This parameter specifies the number of bytes used in caching. The number should be in the range [52428800,524288000] ([50MB, 500MB]). Its default value is 52428800 (50MB). <br>

###9.7. Default value for number of returned results, Optional{id="rows"}
```
<rows>10</rows>
```
"Rows" specifies the maximum number of results retrieved and returned in a single query response.
If there are more results that "Rows", another query with a different "start" value must be sent
to retrieve the next "page" of results. The default value of "Rows" is 10.<br>

###9.8. Field-Based Search, Optional{id="fieldBasedSearch"}
```
<fieldBasedSearch>0</fieldBasedSearch>
```
This is a flag to toggle attribute-based search. An attribute-based search applies conditions that determine in which attributes a keyword should appear.<br>
> 0: Disabled <br>
> 1: Enabled <br>

Note that if field-based search is enabled, the number of searchable attributes as specified in <a href='#fields'>fields</a> is limited to 31.

###9.9. Search Type, Optional{id="searcherType"}
```
<searcherType>0</searcherType>
```
This sets the default search type of a query to the engine. <br>
> 0: find the top relevant results; <br>
> 1: find all matching results. <br>

The default value is 0.<br>

###9.10. Query Term Fuzzy Type, Optional{id="queryTermFuzzyType"}
```
<queryTermFuzzyType>1</queryTermFuzzyType>
```
This parameter specifies how to treat a term by default with respect to match fuzziness.
> 0: exact match;<br>
> 1: fuzzy match.<br>

Its default value is 0.

###9.11. Query Term Prefix Type, Optional{id="queryTermPrefixType"}
```
<queryTermPrefixType>1</queryTermPrefixType>
```
This value specifies how to treat a term by default with respect to match completeness.
> 0: prefix match (the query term can match just the beginniner of a word);<br>
> 1: complete match (the entire word must match the search term).<br>

Its default value is 0.

##10. Response Writer:##{id="queryResponseWriter"}

This tag has parameters related to configuring the response of a query.
```
<queryResponseWriter>
...
</queryResponseWriter>
```

###10.1. Response Content, Optional{id="ResponseContent"}

ResponseContent specifies the search engine and record fields to be returned for each JSON record in the response. You should set the "type" attribute of "ResponseContent" to one of the following options: <br>
> 0: format "rid,edit_dist,matching_prefix,in_memory_record"; <br>
> 1: format "rid,edit_dist,matching_prefix". <br>
> 2: format "rid,edit_dist,matching_prefix,fields_to_return". <br>

The default value is 0. If "type" is 2, ResponseContent should also contain a comma-separated list of fields to be returned for each record in the query response. The following are two examples:

```
<responseContent type="0"></responseContent>
```
or

```
<responseContent type="2">lat,lng</responseContent>
```

###10.2 JSON Response Format, Optional{id="ResponseFormat"}

ResponseFormat specifies if the response should be JSON or JSONP formatted.  Possible values are:<br>
> 0: JSON
> 1: JSONP           

The default value is 0.

##11. Update Handler###{id="updateHandler"}

This tag includes tags related to configuring the engine to handle update requests.
```
<updatehandler>
...
</updatehandler>
```
###11.1. Maximum Number of Documents, Required{id="maxDocs"}
```
<maxDocs>15000000</maxDocs>
```
This is the maximum number of records that can be indexed by the engine. Inserting more records than what is specified here will cause the insertions to fail.

###11.2. Merge Policy, Required{id="mergePolicy"}

```
<mergePolicy>
    <mergeEveryNSeconds>10</mergeEveryNSeconds>
    <mergeEveryMWrites>100</mergeEveryMWrites>
</mergePolicy>
```
 - <b>mergeEveryNSeconds</b>: The engine uses a background thread to periodically merge the data changes to the indexes. This parameter sets the number of seconds this background thread sleeps before it wakes up and does the merge. Note that decreasing this number may increase latency in the engine's search response time.  This number should be at least 1 (second).
 
  - <b>mergeEveryMWrites</b>: Another event that can trigger the background thread to do the merge is the number of data changes (inserts, deletes, and updates). This parameter specifies the number of record changes after which the thread will awaken to do the merge.  This number should be at least 1. <br>

###11.3. Logging:{id="updateLog"}

The following tag includes parameters related to logging by the SRCH2 server.
```
<updateLog>
...
</updateLog>
```
####11.3.1. Log Level, Optional{id="logLevel"}
```
<logLevel>3</logLevel>
```
The parameter controls the amount of feedback information the engine will report in its log. <br>
> 0: SILENT : Most logging will be suppressed<br>
> 1: ERROR : Only explicit error conditions will be logged<br>
> 2: WARNING : Error conditions and warnings will be logged<br>
> 3: INFO : Errors, warnings, and informative messages will be logged<br>

Its default value is 3.

####11.3.2. Log File, Required{id="accessLogFile"}
```
<accessLogFile>./indexes/log.txt</accessLogFile>
```
This value specifies the file to which the engine writes logging information.
Third-party tools such as
[logrotate](http://linuxcommand.org/man_pages/logrotate8.html) can be utilized to
manage the log messages.  Check [this
page](restful-control.html#reset-log) for more information about how
to manage this log file using third-party tools such as "logrotate".<br>

##12. Data Schema:##{id="schemaTag"}

This section of the configuration concerns the data source to be searched.  The following sections explain each sub-tag under the <i>schema</i>
component.
```
<schema name="SRCH2" version="3">
...
</schema>
```

###12.1. Primary Key, Required{id="uniqueKey"}
```
<uniqueKey>id</uniqueKey>
```
This value specifies the attribute used as the primary key to reference each record in the data, and
thus the value of the specified field must be unique across all records. If a new record has a
primary key conflicting with an existing record, the new record will be rejected by the engine.
The attribute must be of type text.<br>

###12.2. Fields, Required{id="fields"}
"Fields" contains the specification of the each "field" in the records, i.e. the data schema.
```
<fields>
...
</fields>
```

Here is an example:

```
<field name="category" type="text" searchable="true" />
<field name="name" type="text" indexed="true" />
<field name="model" default="benz" required="true" type="text" refining="true"/>
<field name="price" default="200" required="true" type="float" refining="true"/>
<field name="likes" default="0" required="true" type="integer" refining="true"/>
<field name="seller_id" default="12324,546436,576864" required="false" type="integer" refining="true" multivalued="true">
```

These parameters give information about each field, including its name, type, and certain properties. <br>

 - "name": the name of the field<br>
 - "type": the type of the field. The following are supported types: text, integer, float, time, location_longitude (for geo search), and location_latitude (for geo search).

The engine supports the following formats of time and date: <br>

 - HH:MM:SS<br>
 - MM/DD/YY<br>
 - YYYY-MM-DD HH:MM::SS<br>
 - YYYY-MM-DD<br>
 - YYYYMMDDHHMMSS<br>
 - YYYYMMDDHHMM<br>
 - YYYYMMDD<br>

The engine supports time durations of the format "{An integer}{A date/time constant}", in which date and time constants are: SECOND, SECONDS, MINUTE, MINUTES, HOUR, HOURS, DAY, DAYS, WEEK, WEEKS, MONTH, MONTHS, YEAR, YEARS.  Examples are: "DAY" (meaning 1 day) or "34WEEKS" (meaning 34 weeks).<br>

Each field has certain properties:

 - <b>required</b>: This flag indicates whether a field can be empty or not. It is false by default.<br>
 - <b>default</b>: This attribute  gives the default value of this field if the field is missing from the record.<br>
 - <b>searchable</b>: If true, then the engine will include its values in the indices to support keyword search within the field.<br>
 - <b>refining</b>: If true, then the engine will include its values in the indices to support post-processing operations on query results, such as additional filtering predicates (e.g., "price < 20"), sort, and facet.<br>
 - <b>indexed</b>: If this flag is true, then the engine will treat the field as both a searchable and a refining attribute. <br>
 - <b>multivalued</b>: If this flag is true, then the field is considered a multi-valued attribute. If so, then the corresponding JSON value in the data file must be a valid array in JSON (e.g. [1245332,3435645,53465,6456745]). Also please note that if the attribute is multi-valued, the value of the 'default' property must be a comma-separated list of values.<br>

In the example above, we can do keyword search on the attributes
"category" and "name".  We can do post-processing on attributes
"name", "model", "price", "likes" and "seller_id".

Note:

 - For geo search, two fields are required with the types location_latitude and location_longitude, respectively. The values of these geo fields should be a float type in the data file.<br>
 - The primary key may optionally be included here. It can also be searchable and/or refining.<br>
 - There must be at least one searchable field.

###12.3. Enable Facet, Optional{id="facetEnabled"}

This setting toggles the faceted search feature.<br>
```
<facetEnabled>true</facetEnabled>
```
Its value is either false (facet search disabled) or true (enabled). Its default value is false.<br>

###12.4. Facet Fields:{id="facetFields"}

This tag contains all facet-related tags.
```
<facetFields>
...
</facetFields>
```
Facet fields: Required if facet is enabled <br>
```
          <facetField name="genre" facetType="categorical"/>
          <facetField name="year"  facetType="range" facetStart="1990" facetEnd="2050" facetGap="10"/>
```
> - name: The name of the field used for this facet. It must
correspond to a refining field specified in the <a href=#fields>field
tag</a>. <br> 
> - facetType: Categorical or range. <br>
> - facetStart: The start point of making a range facet. It is
required if "facetType" is type range. The value will be ignored for categorical
facets. <br> 
> - facetEnd: The end point of a range facet. It is required for a
range facet. The value will be ignored for categorical facets. <br> 
> - facetGap: The increment amount used for a range facet. The value
will be ignored for categorical facets. <br> 

Note: facet ranges are created in correspondence with the "facetStart"
value, not the "facetEnd" value. Therefore, the last interval may not
span the entire facetGap. Also all facet fields must be declared in a
<a href=#fields>fields tag</a> as well (with refining="true") <br> 

###12.5. Analyzer:{id="analyzer"}

This setting contained in this tag configure the analyzer to be used by the engine.<br>
```
<types>
  <fieldType name="text_en">
    <analyzer>
    ...
    </analyzer>
  </fieldType>
</types>
```
###12.5.1 Stemmer, Optional{id="PorterStemFilter"}

The engine supports [Porter Stemming](http://tartarus.org/martin/PorterStemmer/). Inflected or derived words are reduced to their base or root form for matching against search terms.  The engine uses a dictionary file with keywords that should be ignored by the stemmer. Keywords not in the dictionary will go through a sequence of stemming rules.  If no file if provided, the stemmer is disabled.
```
<filter name="PorterStemFilter" dictionary="srch2_stemmer_dictionary.txt" />
```
###12.5.2 Stop Words, Optional{id="StopFilter"}

This tag specifies a file of stop words that will be ignored by the engine. Stop words will not be indexed, and will not match any search term.  This will consume fewer system resources.  Providing an empty string ("") for the "words" parameter disables this filter.
```
<filter name="StopFilter" words="srch2_stop_words.txt" />
```

##13. Cores, Optional{id="Cores"}

The "Cores" tag can be used to support the creation of multiple search engines (called cores) within the same server.  Typically, each engine
has a different data source.  All cores run within the same server process.  A query can only
name a single core.

The "Cores" tag supports one attribute: "defaultCoreName".  When instantiated with multiple cores, queries
specify the core by name that is to process the query.  For instance, the following query:
```
http://localhost:8081/example-core/search/q=term
```
requests that "example-core" process a search request for "term".  In the case when no core is
specified in a query to a multi-core server, the server will use the sore specified by "defaultCoreName".

###13.1 Core, Optional{id="Core"}

Each "Core" tag under "Cores" specifies a server core to be created.  Each core requires a name
attribute.  This name is used in query URI paths, as well as the aforementioned
"defaultCoreName" attribute of "Cores".  Nearly all server configuration settings documented above can
also appear under a "Core" tag.  The exceptions are "licenseFile", "listeningHostName", "listeningPort",
"maxSearchThreads", which are global for all the cores.  Each Core must define all its own data source
and behavioral rules, so for example, "dataDir" and "schema" are typically defined under each core.
